# Для запуска контейнера необходимо выполнить следующие команды:
# Сначала запускаем сборку: docker build -t fastapi-app .
# Затем запускаем контейнер, пробросив порт 8000: docker run -p 8000:8000 fastapi-app

# Используем официальный образ Python с тегом 3.9-slim
FROM python:3.9-slim

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем файл requirements.txt в рабочую директорию
COPY requirements.txt ./

# Устанавливаем зависимости
RUN pip install -r requirements.txt

# Копируем все модули приложения в рабочую директорию
COPY . .

# Объявляем, какой порт нужно использовать
EXPOSE 8000

# Запуск веб-сервера uvicorn с параметрами host 0.0.0.0 и port 8000
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
